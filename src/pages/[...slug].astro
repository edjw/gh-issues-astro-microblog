---
import BlogPost from "../layouts/BlogPost.astro";

import { getGithubIssues } from "../data/getGithubIssues";
import type { GithubIssueWithSlug } from "../data/getGithubIssues";

const { number, slug } = Astro.params;
const posts: GithubIssueWithSlug[] = await getGithubIssues(Number(number));

const page = posts.find((post) => post.slug === slug);
if (page === undefined) return Astro.redirect("/404");
---

{page && <BlogPost {...page} />}
